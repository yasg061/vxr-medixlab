<html>

<head>
  <title>Vertex Medixlab</title>
  <!-- Replace "../build.js" with the super-hands and
         A-Frame distributions to run : -->
  <script src="../../super/build.js"></script>
  <!-- <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script> -->
  <!-- <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script> -->
  <!-- Networked aframe -->
  <script>
    let url = "../../../js/structureEntitiesNeoNato.json"
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
  <script src="/easyrtc/easyrtc.js"></script>
  <script src="/dist/networked-aframe.js"></script>
  <script
    src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
  <script src="/js/spawn-in-circle.component.js"></script>


  <!-- Super hands -->
  <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.js"></script>
  <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
  <script
    src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

  <!-- ownership transfer dependencies -->

  <script src="../../js/spawner.component.js"></script>
  <script src="../../js/toggle-physics.component.js"></script>
  <script src="../../js/rotator.component.js"></script>
  <script src="../../js/input.component.js"></script>
  <script src="../../js/avatar-body.component.js"></script>
  <script src="../../js/Feature-Schemas.js"></script>
  <script src="../../js/camera-output.js"></script>
  <!-- <script src="../../js/hand-attach.js"></script> -->
  <script src="../../js/attach-intracath.js"></script>
  <script src="../../js/attach-to-position.js"></script>
  <script src="../../js/set-name.component.js"></script>

  <script src="../../js/randomize-spec-color.component.js"></script>

  <script>
    let boolstate = true
    AFRAME.registerComponent('color-trigger', {
      init() {
        var data = this.data;
        console.log("init, color trigger")

        this.el.addEventListener('collide', e => {

          console.log("collided", e.detail)
          let classes = e.detail.target.el.className.split(' ')
          let mesh_to_modify = document.getElementById("vxr-obj-cottonswab01")
          var mesh = mesh_to_modify.getObject3D('mesh');
          console.log("mesh", mesh)

          mesh.traverse(function (node) {
            console.log("material option", node.material)
            if (node.isMesh && boolstate) {
              // mesh.material.color.setRGB(255 ,0 ,0)
              node.material.color = new THREE.Color("rgb(237, 38, 81)");
              node.material.needsUpdate = true;
              console.log("works -----")
              boolstate = false

            }
          });

        });
      },

    });
  </script>

  <script>

    function setMass() {
      let intracathInteract = element = document.getElementById("vxr-intracath-second-part")
      intracathInteract.setAttribute('dynamic-body', 'mass:0.1')
    }

  </script>


  <script>
    AFRAME.registerComponent('attach-point-axis', {
      init: function () {
        var el = this.el;
        this.el.addEventListener('collide', function (e) {
          console.log('Cube has collided with ', e.detail.body.el);
          e.detail.body.el.setAttribute('constraint', 'type: coneTwist; target: #box1; pivot: 0 0 0; targetPivot: 0 0.0 0.09; axis: 0.0 0.0 -1.0; targetAxis: 1.0 0.0 0.0');
        });
      }
    })
  </script>


  <script>
    AFRAME.registerComponent('foo', {
      init: function () {
        var el = this.el;
        this.el.addEventListener('collide', function (e) {
          console.log('Cube has collided with ', e.detail.body.el);
          e.detail.body.el.setAttribute('constraint', 'type: coneTwist; target: #box2; pivot: 0 0 0; targetPivot: 0 -0.05 0; axis: 0.0 -1 0; targetAxis: 1.0 0.0 0.0');
        });
      }
    })
  </script>

  <script>
    function spawnentity() {

      let syncs = document.getElementsByClassName("syncup");
      let constraint_avatar_template = document.getElementsByClassName("constraint-avatar-template");
      for (let i = 0; i < syncs.length; ++i) {
        syncs[i].setAttribute("networked", "template:#vxr-template;attachTemplateToLocal:true")
      }
      for (let i = 0; i < constraint_avatar_template.length; ++i) {
        constraint_avatar_template[i].setAttribute("networked", "template:#constraint-avatar-template;attachTemplateToLocal:true")
      }
    }
  </script>
  <!-- <link rel="stylesheet" type="text/css" href="../../super/process/assets/examples.css"> -->
</head>

<body>
  <a-scene physics="debug: true; gravity: -5; iterations: 75" networked-scene="
      room: audio;
      adapter: easyrtc;
      audio: false;
      debug: true;
      onConnect: spawnentity;
    ">
    <a-assets>
      <!-- <a-asset-item id="htc" src="../../../super/process/assets/vr_controller_vive.obj"></a-asset-item> -->
      <a-asset-item id="table" src="../../Models/gltf/Table.gltf"></a-asset-item>
      <a-asset-item id="alcoholbottle" src="../../Models/gltf/AlcoholBottle.gltf"></a-asset-item>
      <a-asset-item id="bed" src="../../Models/gltf/Baby_Crib.gltf"></a-asset-item>
      <a-asset-item id="patient" src="../../Models/gltf/Baby.gltf"></a-asset-item>
      <a-asset-item id="StudentAvatar" src="../../super/process/assets/StudentNurseAvatar.gltf"></a-asset-item>
      <a-asset-item id="SpectatorAvatar" src="../../super/process/assets/avatars/SpectatorAvatar.gltf"></a-asset-item>
      <a-asset-item id="TeacherAvatar" src="../../super/process/assets/TeacherAvatar.gltf"></a-asset-item>
      <a-asset-item id="right-hand" src="../../super/process/assets/rightHandHigh.glb"></a-asset-item>
      <a-asset-item id="left-hand" src="../../super/process/assets/leftHandHigh.glb"></a-asset-item>
      <a-asset-item id="medicaltape" src="../../Models/gltf/MedicalTape.gltf"></a-asset-item>
      <a-asset-item id="gauze" src="../../Models/gltf/Gauze.gltf"></a-asset-item>
      <a-asset-item id="allistweezers" src="../../Models/gltf/Scisors.gltf"></a-asset-item>
      <a-asset-item id="cottonswab" src="../../Models/gltf/CottonSwabs01.gltf"></a-asset-item>
      <a-asset-item id="salinebottle" src="../../Models/gltf/ClorhexidinaBottle.gltf"></a-asset-item>
      <a-asset-item id="Tape_Normal" src="../../Models/gltf/Tape_Normal.gltf"></a-asset-item>
      <a-asset-item id="Syringe_1CC_Skin" src="../../Models/gltf/Syringe_1CC.gltf"></a-asset-item>
      <a-asset-item id="Bowl_Medic" src="../../Models/gltf/Bowl_Medic.gltf"></a-asset-item>
      <a-asset-item id="Baby_Crib" src="Models/Baby_Crib.gltf"></a-asset-item>
      <a-asset-item id="Bulb_Syringe" src="Models/Bulb_Syringe.gltf"></a-asset-item>
      <a-asset-item id="Hyssop" src="Models/Hyssop.gltf"></a-asset-item>
      <a-asset-item id="Infant_Scale" src="Models/Infant_Scale.gltf"></a-asset-item>
      <a-asset-item id="Thermic_Crib" src="Models/Thermic_Crib.gltf"></a-asset-item>
      <a-asset-item id="Thermometer" src="Models/Thermometer.gltf"></a-asset-item>
      <a-asset-item id="InkPad" src="Models/InkPad.gltf"></a-asset-item>
      <a-asset-item id="HairComb" src="Models/HairComb.gltf"></a-asset-item>
      <a-asset-item id="Clamp" src="Models/Clamp.gltf"></a-asset-item>
      <a-asset-item id="ClampKocher" src="Models/ClampKocher.gltf"></a-asset-item>
      <a-asset-item id="CurvedMayoScissor" src="Models/CurvedMayoScissor.gltf"></a-asset-item> 

      <a-asset-item id="RolledTowel" src="Models/RolledTowel.gltf"></a-asset-item>


      <a-asset-item id="s_cube" src="CottonColor.gltf"></a-asset-item>

      <!-- Avatars -->
      <a-asset-item id="StudentAvatarHead" src="../../super/process/assets/avatars/StudentAvatarHead.gltf">
      </a-asset-item>
      <a-asset-item id="StudentAvatarBody" src="../../super/process/assets/avatars/StudentAvatarBody.gltf">
      </a-asset-item>
      <a-asset-item id="TeacherAvatarHead" src="../../super/process/assets/avatars/TeacherAvatarHead.gltf">
      </a-asset-item>
      <a-asset-item id="TeacherAvatarBody" src="../../super/process/assets/avatars/TeacherAvatarBody.gltf">
      </a-asset-item>
      <a-asset-item id="student" src="../../super/process/assets/StudentNurseAvatar.gltf"></a-asset-item>
      <a-asset-item id="teacher" src="../../super/process/assets/TeacherAvatar.gltf"></a-asset-item>

      <!-- Theater -->
      <a-asset-item id="scenebase" src="/Models/gltf/Scene_Base.gltf"></a-asset-item>
      <a-asset-item id="scenemedixlablogo" src="/Models/gltf/Scene_Medixlablogo.gltf"></a-asset-item>
      <a-asset-item id="sceneieproeslogo" src="/Models/gltf/Scene_Ieproesblogo.gltf"></a-asset-item>
      <a-asset-item id="scenevertexlogo" src="/Models/gltf/Scene_VertexLogo.gltf"></a-asset-item>
      <a-asset-item id="scenebase02" src="/Models/gltf/Base_Auditorium.gltf"></a-asset-item>
      <a-asset-item id="stairsprincipal" src="/Models/gltf/Stairs_Auditorium.gltf"></a-asset-item>
      <a-asset-item id="ministairs" src="/Models/gltf/Mini_Stairs_Auditorium.gltf"></a-asset-item>
      <a-asset-item id="roofauditorium" src="/Models/gltf/Roof_Auditorium.gltf"></a-asset-item>
      <a-asset-item id="columns" src="/Models/gltf/Columns_Auditorium.gltf"></a-asset-item>
      <a-asset-item id="frontwall" src="/Models/gltf/FrontWall_Auditorium.gltf"></a-asset-item>
      <a-video id="canalizacion" src="/videos/Test.mp4" autoplay loop="true"></a-video>
      <a-video id="logopng" src="/Models/Images/Ieproes_Logo.png"></a-video>

      <canvas id="cam2"></canvas>


      <a-mixin id="touch" physics-collider phase-shift collision-filter="collisionForces: false"
        static-body="shape: sphere; sphereRadius: 0.02" super-hands="colliderEvent: collisions;
                          colliderEventProperty: els;
                          colliderEndEvent: collisions;
                          colliderEndEventProperty: clearedEls;">
      </a-mixin>
      <a-mixin id="point" raycaster="showLine: true; objects: .vxr-interact" collision-filter="collisionForces: false"
        static-body="shape: sphere; sphereRadius: 0.001" super-hands="colliderEvent: raycaster-intersection;
                    colliderEventProperty: els;
                    colliderEndEvent:raycaster-intersection-cleared;
                    colliderEndEventProperty: clearedEls;"></a-mixin>

      <!-- Player -->
      <template id="player-template">
        <a-entity networked-audio-source="positional:false"></a-entity>
      </template>
      â€‹
      <!-- Nurse Avatar -->
      <template id="student-avatar-template">
        <a-entity class="NurseHeadAvatar" gltf-model="#StudentAvatar" position="0 2 0"
          networked-audio-source="positional:false"></a-entity>

      </template>

      <!-- Teacher Avatar -->
      <template id="teacher-avatar-template">
        <a-entity class="SpectatorAvatar" gltf-model="#TeacherAvatar" scale="0.8 0.8 0.8"
          networked-audio-source="positional:false">
        </a-entity>
      </template>

      <!-- Spectator Avatar -->
      <template id="spectator-avatar-template">
        <a-entity class="SpectatorAvatar" gltf-model="#SpectatorAvatar" networked-audio-source="positional:false">
        </a-entity>
      </template>

      <!-- Teacher Avatar Constraints -->
      <template id="constraint-teacher-avatar-template">
        <a-entity>
          <a-entity class="name-up-teacher"></a-entity>
          <a-entity class="TeacherAvatar" id="teacher" gltf-model="#teacher"></a-entity>
        </a-entity>
      </template>

      <!-- Student Avatar Constraints -->
      <template id="constraint-student-avatar-template">
        <a-entity>
          <a-entity class="name-up-student"></a-entity>
          <a-entity class="StudentAvatar" id="student" gltf-model="#student"></a-entity>
        </a-entity>
      </template>

      <!-- Spectator Avatar Constraints -->
      <template id="constraint-spectator-avatar-template">
        <a-entity>
          <a-entity class="name-up"></a-entity>
          <a-entity class="SpectatorAvatar" id="spectator" gltf-model="#SpectatorAvatar"></a-entity>
      </template>

      <!-- Right Hand -->
      <template id="right-hand-template">
        <a-entity>
          <a-entity scale="0.8 0.8 0.8" gltf-model="#right-hand"></a-entity>
        </a-entity>
      </template>

      <!-- Left Hand -->
      <template id="left-hand-template">
        <a-entity>
          <a-entity scale="0.8 0.8 0.8" gltf-model="#left-hand"></a-entity>
        </a-entity>
      </template>

      <!-- vxr-template -->
      <template id="vxr-template">
        <a-entity>
          <a-box class="vxr-obj-a" rotator="speed:-2" width="0.35" height="0.35" depth="0.35" rotation="0 0 0"
            color="green" position="0 0 0"></a-box>
          <a-sphere class="vxr-obj-b" toggle-physics color="#f00" dynamic-body draggable grabbable radius="0.18"
            position="0.5 0 0"></a-sphere>
          <a-box class="vxr-obj-c" rotator="speed:2" color="blue" width="0.35" height="0.35" depth="0.35"
            position="1 0 0"></a-box>
        </a-entity>
      </template>

      <!-- vxr-gltf -->


      <template id="vxr-obj-template-2">
        <a-entity>
          <a-entity class="vxr-obj-alcoholbottle vxr-interact" gltf-model="#alcoholbottle" draggable grabbable
            toggle-physics position="-0.50221 0.40887 -0.06246"></a-entity>
        </a-entity>
      </template>






      <template id="vxr-obj-template-medicaltape">
        <a-entity>
          <a-entity class="vxr-obj-medicaltape vxr-interact" gltf-model="#medicaltape" dynamic-body draggable grabbable
            toggle-physics  position="-0.5129 0.40723 -0.20987"></a-entity>
            
        </a-entity>
      </template>

      <template id="vxr-obj-template-gauze">
        <a-entity>
          <a-entity class="vxr-obj-gauze vxr-interact" gltf-model="#gauze" dynamic-body draggable grabbable
            toggle-physics position="0.0909 0.41035 -0.21277"></a-entity>
            
        </a-entity>
      </template>

      <template id="vxr-obj-template-allistweezers">
        <a-entity>
          <a-entity class="vxr-obj-allistweezers vxr-interact" gltf-model="#allistweezers" dynamic-body draggable
            grabbable toggle-physics position="0.29423 0.4115 0.02887"></a-entity>
            
        </a-entity>
      </template>

      <template id="vxr-obj-template-cottonswab01">
        <a-entity>
          <a-entity class="vxr-obj-cottonswab01 vxr-interact" gltf-model="#s_cube" dynamic-body="shape:sphere" draggable grabbable
            toggle-physics position="0.29399999752881634 0.41835327593359817 -0.29100000045008545" rotation="0.0000014716324518826595 -179.99999687202632 179.99997757860595">
            
            </a-entity>
          </a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-cottonswab02">
        <a-entity>
          <a-entity class="vxr-obj-cottonswab02 vxr-interact" gltf-model="#cottonswab" dynamic-body="shape:sphere" draggable grabbable
            toggle-physics position="0.27536 0.45229 -0.29341"  visible="true"></a-entity>
            
            
        </a-entity>
      </template>

      <template id="vxr-obj-template-cottonswab03">
        <a-entity>
          <a-entity class="vxr-obj-cottonswab03 vxr-interact" gltf-model="#cottonswab" dynamic-body="shape:sphere" draggable grabbable
            toggle-physics position="0.29346 0.50258 -0.27297" visible="true"></a-entity>  
            
        </a-entity>
      </template>

      <template id="vxr-obj-template-salinebottle">
        <a-entity>
          <a-entity class="vxr-obj-salinebottle vxr-interact" gltf-model="#salinebottle" dynamic-body draggable
            grabbable toggle-physics position="-0.49174 0.4056 0.05618" 
             rotation="8.414417033661385e-7 0.000005139381934935757 0.00002206100123828603"></a-entity>

            
        </a-entity>
      </template>



      <template id="vxr-obj-template-Tape-Normal">
        <a-entity>
          <a-entity class="vxr-obj-Tape-Normal vxr-interact" gltf-model="#Tape_Normal" toggle-physics="" draggable=""
            grabbable="maxGrabbers: NaN" position="-0.32525 0.4061 -0.30831"
            rotation="-2.519364784893209 -2.4797123495412854 0.0011149967626528847" dynamic-body></a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-Bowl-Medic">
        <a-entity>
          <a-entity class="vxr-obj-Bowl-Medic vxr-interact" gltf-model="#Bowl_Medic" draggable="" grabbable
            position="0.2894 0.41225 -0.28536" static-body="shape:mesh" scale="1.2 1.2 1.2 " rotation="5.335276073060275 -0.8806075134822605 -0.20928413873134302" >
          </a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-Bulb-Syringe">
        <a-entity>
          <a-entity class="vxr-obj-Bulb-Syringe vxr-interact" gltf-model="#Bulb_Syringe" draggable="" grabbable
          position="0.27959 0.49034 -0.18491"  dynamic-body>
          </a-entity>

          
          
        </a-entity>
      </template>

      <template id="vxr-obj-template-Hyssop">
        <a-entity>
          <a-entity class="vxr-obj-Hyssop vxr-interact" gltf-model="#Hyssop" draggable="" grabbable
          position="0.07648 0.41225 -0.36897" rotation="4.335276073060275 -0.8806075134822605 -0.20928413873134302" dynamic-body>
          </a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-Hyssop1">
        <a-entity>
          <a-entity class="vxr-obj-Hyssop vxr-interact" gltf-model="#Hyssop" draggable="" grabbable
          position="0.07648 0.41225 -0.36897" rotation="4.335276073060275 -0.8806075134822605 -0.20928413873134302" dynamic-body>
          </a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-Hyssop2">
        <a-entity>
          <a-entity class="vxr-obj-Hyssop vxr-interact" gltf-model="#Hyssop" draggable="" grabbable
          position="0.07648 0.41225 -0.36897" rotation="4.335276073060275 -0.8806075134822605 -0.20928413873134302" dynamic-body>
          </a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-Hyssop3">
        <a-entity>
          <a-entity class="vxr-obj-Hyssop vxr-interact" gltf-model="#Hyssop" draggable="" grabbable
          position="0.07648 0.41225 -0.36897" rotation="4.335276073060275 -0.8806075134822605 -0.20928413873134302" dynamic-body>
          </a-entity>
        </a-entity>
      </template>

      <template id="vxr-obj-template-Infant-Scale">
        <a-entity>
          <a-entity class="vxr-obj-Infant-Scale vxr-interact" gltf-model="#Infant_Scale" draggable="" grabbable
          position="-1.64897 0.3906 -0.11391" rotation="0 180 0" >
          </a-entity>          
        </a-entity>
      </template>

      <template id="vxr-obj-template-Thermic-Crib">
        <a-entity>
          <a-entity class="vxr-obj-Thermic-Crib vxr-interact" gltf-model="#Thermic_Crib" draggable="" grabbable
          position="-2.51556 -0.63611 -0.78333" rotation="0 270 0" >
          </a-entity>           
        </a-entity>          
       </template>

      <template id="vxr-obj-template-Thermometer">
        <a-entity>
          <a-entity class="vxr-obj-Thermometer vxr-interact" gltf-model="#Thermometer" draggable="" grabbable
          position="0.10676 0.41225 -0.36386" rotation="4.335276073060275 -0.8806075134822605 -0.20928413873134302" dynamic-body>
          </a-entity>          
        </a-entity>
      </template>

      <template id="vxr-obj-template-InkPad">
        <a-entity>
          <a-entity class="vxr-obj-InkPad vxr-interact" gltf-model="#InkPad" draggable="" grabbable
          position="-1.11622 0.4413 -0.38288" rotation="4.335276073060275 -0.8806075134822605 -0.20928413873134302" scale="0.5 0.5 0.5" dynamic-body>
          </a-entity>          
        </a-entity>
      </template>

      <template id="vxr-obj-template-HairComb">
        <a-entity>
          <a-entity class="vxr-obj-HairComb vxr-interact" gltf-model="#HairComb" draggable="" grabbable
          position="0.23468 0.41554 -0.40813" scale="0.7 0.7 0.7" dynamic-body>
          </a-entity>       
          
          
        </a-entity>
      </template>

      <template id="vxr-obj-template-Clamp">
        <a-entity>
          <a-entity class="vxr-obj-Clamp vxr-interact" gltf-model="#Clamp" draggable="" grabbable
          position="0.36767 0.40608 -0.42163" rotation="" dynamic-body>
          </a-entity>          
        </a-entity>
      </template>      

      <template id="vxr-obj-template-ClampKocher">
        <a-entity>
          <a-entity class="vxr-obj-ClampKocher vxr-interact" gltf-model="#ClampKocher" draggable="" grabbable
          position="0.18423 0.43077 0.01858" dynamic-body>
          </a-entity>     
          
        </a-entity>
      </template>  

      <template id="vxr-obj-template-CurvedMayoScissor">
        <a-entity>
          <a-entity class="vxr-obj-CurvedMayoScissor vxr-interact" gltf-model="#CurvedMayoScissor" draggable="" grabbable
          position="0.07318 0.41803 0.03337" dynamic-body>
          </a-entity>            
        </a-entity>
      </template>  

 
      <template id="vxr-obj-template-RolledTowel">
        <a-entity>
          <a-entity class="vxr-obj-RolledTowel vxr-interact" gltf-model="#RolledTowel" draggable="" grabbable
          position="-0.0613 0.44033 -0.14032" dynamic-body>
           </a-entity>
          </a-entity>            
        </a-entity>
      </template>  

    </a-assets>

    <!-- Hidden Static Meshes  -->

    <a-entity class="vxr-obj-Tape-Butterfly vxr-interact" gltf-model="../../Models/gltf/Syringe_1CC.gltf" dynamic-body="sphereRadius: NaN" draggable="" grabbable="maxGrabbers: NaN" position="0.14169 1.91305 -0.55237" rotation="0.000011081847617899332 2.821210382048744 0.00009149713672594365" velocity=""></a-entity>

    <a-entity
      environment="lightPosition: 1 5 -2; groundColor: #00275b; grid: dots; gridColor: #168dab; preset: starry; skyType: atmosphere; skyColor: #030022; playArea: 0.5; ground: flat; groundColor2: #009dff"
      visible="">
      <a-entity class="environment" position="0 50 0"></a-entity>
      <a-entity class="environment" position="1 5 -2" light="intensity: 0.1" visible=""></a-entity>
      <a-entity class="environmentDressing environment" visible="false"></a-entity>
      <a-sky radius="200" theta-length="110" class="environment" material="shader: skyshader; sunPosition: 0 0 0"
        visible="" geometry=""></a-sky>
      <a-entity class="environment" position="0 50 0"></a-entity>
      <a-entity class="environment" position="1 5 -2" light="intensity: 0.1" visible=""></a-entity>
      <a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 3"></a-entity>
      <a-entity class="environmentDressing environment" visible="false"></a-entity>
      <a-sky radius="200" theta-length="110" class="environment" material="shader: skyshader; sunPosition: 0 0 0"
        visible="" geometry=""></a-sky>
    </a-entity>
    <a-light id="directionallight" light="intensity: 0.2" type="directional" position="0 0 0" rotation="-90 0 0"
      intensity="0.400" target="#directionaltarget">
      <a-entity id="directionaltarget" position="0 0 -1"></a-entity>
    </a-light>

    <!-- Static Objects -->

    <a-entity id="tstTable" class="gltf" gltf-model="#table" position="-1.5 0.99273 -0.363" rotation="0 180 0">
    </a-entity>
    <a-entity id="patient01" gltf-model="#patient" scale="" position="0.8677 1.84337 -0.72967" material="color: brown"
      rotation="0 90 0">
    </a-entity>


    <!-- <a-entity id="Scube" gltf-model="#s_cube"  scale="" position=" 0 1 0" material="color: black"> -->
    </a-entity>




    <a-entity class="gltf" gltf-model="#table" position="-0.13 1 -0.363" rotation="0 180 0"></a-entity>
    <a-entity class="gltf" gltf-model="#Baby_Crib" position="0.87277 1 -0.9535" rotation="0 90 0"></a-entity>
    <a-box id="boxTable1" opacity="0" static-body rotation="" position="-0.10703 1.85724 -0.36937" color="red"
      depth="0.6" height="0.1" width="1.1"></a-box>
    <a-box id="tableBox2" class="boxTable2" opacity="0" static-body rotation="" position="-1.48 1.85724 -0.36937"
      color="red" depth="0.6" height="0.1" width="1.1"></a-box>
    <!-- <a-box id="TorundaBowl" class="boxTable2" opacity="0" static-body position="0.30215 1.87809 -0.51316" depth="0.1"
      height="0.1" width="0.1" material="" geometry="depth: 0.1; width: 0.1"></a-box> -->



    <!-- Theater Objects -->
    <a-entity id="frontwall01" gltf-model="#frontwall" scale="1 1 1" position="0 0 -1.12569" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="roofauditorium01" gltf-model="#roofauditorium" scale="1 1 1" position="0 1.35517 0"
      material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="scenebase01" gltf-model="#scenebase" scale="1 1 1" position="0 -0.82 0" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="scenebase02" gltf-model="#scenebase02" scale="1 1 1" position="0 0 0" material="color: brown"
      rotation="0 0 0"></a-entity>
    <a-entity id="scenemedixlablogo01" gltf-model="#scenemedixlablogo" scale="2 2 2"
      position="0.04036 11.22773 -2.14313" material="color: brown" rotation="0 0 0"></a-entity>
    <a-entity id="sceneieproeslogo01" gltf-model="#sceneieproeslogo" scale="3 3 3" position="-7.3502 9.07108 11.32697"
      material="color: brown" rotation="0 151.70203541678805 0"></a-entity>
    <a-entity id="scenevertexlogo01" gltf-model="#scenevertexlogo" scale="1 1 1" position="7.21432 9.20078 11.49686"
      material="color: brown" rotation="0 -146.36321468175908 0"></a-entity>
    <a-entity id="stairsprincipal01" gltf-model="#stairsprincipal" scale="1 1 1" position="0 0 0" rotation="0 0 0">
    </a-entity>
    <a-entity id="ministairs01" gltf-model="#ministairs" scale="1 1 1" position="0 0 0" rotation="0 0 0"></a-entity>
    <a-entity id="lamps03" gltf-model="#lamps01" scale="1 1 1" position="0 16.9716 0" rotation="0 0 0"></a-entity>
    <a-entity id="columns01" gltf-model="#columns" scale="1 1 1" position="0 0 0" material="color: brown"
      rotation="0 0 0"></a-entity>


    <!-- Theater Lights -->
    <a-entity background="color: #92f2ff"></a-entity>

    <a-entity light="intensity: 0.7; type: ambient" position="-2.02939 0.34443 -0.50913" rotation="0 180 0"
      id="ambientlight"></a-entity>
    <a-entity light="color: #ffffff; penumbra: 0.81; type: point; intensity: 0.2" id="light01"
      position="-1.11051 9.99225 4.03024" rotation="-90 0 0"></a-entity>

    <a-entity id="player" networked="template:#player-template;attachTemplateToLocal:false;" position="0 0.8 -2"
      rotation="0 180 0" movement-controls="speed:0.3">
      <a-entity camera position="0 1.7 0.2" look-controls zoom="100" fov="120"
        networked="template:#constraint-teacher-avatar-template;attachTemplateToLocal:false;">
      </a-entity>
      <!-- /VIVE CONTROLLERS -->
      <a-entity id="lhand" mixin="touch" hand-attach input-controls="hand: left"
        networked="template:#left-hand-template">
      </a-entity>
      <a-entity id="rhand" mixin="touch" hand-attach input-controls="hand: right"
        networked="template:#right-hand-template">
      </a-entity>
    </a-entity>




    </a-sphere>


    <a-box id="box2" foo opacity="0" static-body rotation="0 180 0" position="0.95816 2.65 -2.07664" color="red"
      depth="0.03" height="0.03" width="0.03"></a-box>

  </a-scene>

  <script>
    NAF.schemas.add({
      template: '#student-avatar-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#teacher-avatar-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#spectator-avatar-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#constraint-spectator-avatar-template',
      components: [
        'position',
        'rotation',
        {
          selector: '.name-up',
          component: 'name-up'
        },
        {
          selector: '.SpectatorAvatar',
          component: 'randomize-spec-color'
        }
      ]
    });
    NAF.schemas.add({
      template: '#constraint-teacher-avatar-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#constraint-student-avatar-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#player-template',
      components: [
        'position',
        'rotation',
      ]
    });
    NAF.schemas.add({
      template: '#right-hand-template',
      components: [
        'position',
        'rotation'
      ]
    });
    NAF.schemas.add({
      template: '#left-hand-template',
      components: [
        'position',
        'rotation'
      ]
    });

    //Called by Networked-Aframe when connected to server
    function onConnect() {
      console.log("funca");
    }
  </script>
  <!-- <script src="../../js/Feature-SpawnTemplate.js"></script> -->

  <script src="../../js/Feature-SpawnObjects.js"></script>
  <!-- <script src="../../js/vxr-full-house.js"></script> -->



</body>

</html>